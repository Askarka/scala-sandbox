What is referential transparency? How it is achieved for side-effectful functions?

Ответ:
Выражение называется ссылочно прозрачным, если оно может быть заменено вычисляемым результатом
без изменения поведения программы.
Такие функции просто тестировать, легко воспринимать (нет необходимости знать весь контекст),
а также код, в котором соблюдено уловие ссылочной прозрачности, легко рефакторить.
Для функций с сайд-эффектами это достигается при помощи упаковывания их в IO монаду, то есть
функция вместо произведения сайд-эффекта возвращает структуру данных, хранящую в себе этот эффект.